FROM nvcr.io/nvidia/l4t-pytorch:r35.2.1-pth2.0-py3
# Comes with Python 3.8.10

# Required to install flwr
RUN python3 -m pip install --no-cache-dir --upgrade pip setuptools
RUN python3 -m pip install --no-cache-dir flwr psutil psycopg[binary] jetson-stats

WORKDIR /fl_testbed
ENV PYTHONPATH "${PYTHONPATH}:/fl_testbed/src"

COPY ./src/fltb ./fltb
