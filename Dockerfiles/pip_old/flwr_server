FROM python:3.9

WORKDIR /fl_testbed
COPY requirements.txt .
RUN pip3 install --no-cache-dir -r requirements.txt

ENV PYTHONPATH "${PYTHONPATH}:/fl_testbed/src"
COPY ./src ./src
COPY ./user_code_example ./user_code_example
CMD ["python", "./user_code_example/server.py"]